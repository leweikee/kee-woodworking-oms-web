<nz-spin [nzSpinning]="loading">
  <div nz-row nzGutter="16" class="summary-row">
    <div nz-col *ngFor="let summary of summaryList">
      <nz-card [nzBodyStyle]="{ 'background-color': '#f0f4ff', 'box-shadow': '0 2px 8px rgba(0,0,0,0.1)' }">
        <div class="title">{{ summary.title }}</div>
        <div class="value">{{ summary.value }}</div>
      </nz-card>
    </div>
  </div>

  <div nz-row nzGutter="24" nzJustify="space-between" style="margin-top: 30px;">
    <!-- Monthly Trend Chart Left -->
    <div nz-col nzSpan="12" id="monthlyChartContainer"
      style="position: relative; border: 1px solid #d9d9d9; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-radius: 8px;">
      <button nz-button nzType="link" nzSize="small" (click)="downloadChart('monthly_trend')" 
        style="position: absolute; top: 20px; right: 20px; box-shadow: none; background: none; border: none; 
        z-index: 9999; padding: 8px; cursor: pointer;">
        <span nz-icon nzType="download" nzTheme="outline"></span>
      </button>

      <div style="justify-content: center; align-items: center;">
        <p-chart #monthlyChartCanvas *ngIf="monthlyChartOptions" [type]="monthlyChartOptions.type"
          [data]="monthlyChartOptions.data" [options]="monthlyChartOptions.options"
          style="max-width: 100%; height: auto; display: block;">
        </p-chart>
      </div>
    </div>

    <!-- Top Orders by Category Chart Right -->
    <div nz-col nzSpan="12" id="categoryChartContainer"
      style="position: relative; border: 1px solid #d9d9d9; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-radius: 8px;">
      <button nz-button nzType="link" nzSize="small" (click)="downloadChart('top_5_category')" 
        style="position: absolute; top: 20px; right: 20px; box-shadow: none; background: none; border: none; 
        z-index: 9999; padding: 8px; cursor: pointer;">
        <span nz-icon nzType="download" nzTheme="outline"></span>
      </button>

      <p-chart #categoryChartCanvas *ngIf="categoryChartOptions" [type]="categoryChartOptions.type"
        [data]="categoryChartOptions.data" [options]="categoryChartOptions.options">
      </p-chart>
    </div>
  </div>
</nz-spin>
